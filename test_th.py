import numpy as nlp
import math

# weight2 = [90,17,47,-23,-8,-46,12, -37,-79,29,-50,23, -81,51,-106,-81, 40, 43,13, -5, 94,-36,
#            -50 ,109 ,-89,-19,12,-54,1 ,101,-97,-20,-11,-31, -59, -36, 107, -89, 61,-93]

# 


weight2 = [-5,      -8,      -80,     84,      43,      -85,     -6,      -15,     31,      -82,     1,       -80,     -72,     -5,      3,       37,      -74 ,    
                19,      10,      -31,     65,      100,    34,       93,      -75,     -59,     64,      49,      34,     
            61,      -32,     46,      71,      42,      -26 ,    70,      50 ,     -32,     59,      -84]

X_mul_W1_square = [22500,   60516,   376996,  47089,   198025,  369664,  8464,    698896,  275625 , 4624 ,   447561,  680625,
                   540225,  41616,   193600,  334084,  9409,    529,     19600 ,  59049 ,  2809 ,   33124 , 109561,   150544 ,
                    423801,  840889,  3969,    1521,    625,     22500,   463761,  49,      7921,    313600,  6241,    35344 ,
                      163216,  398161,  22801,   168921]

X_mul_w1 = [-150,    -246,    -614,    -217,    445,     608,     92,      836,     525,     -68,     669,     -825,    735,
     -204,    -440,    -578,    97,      -23,     140,     -243,    53,      -182,   331,      -388,    651,     -917,    -63,
          -39,     -25,     -150,    -681,    -7,      -89,     560,     79,      -188,    -404,    -631,    151,     411]                      

result = 0

for i in range(len(weight2)):
    result += weight2[i]*X_mul_W1_square[i]
    print(result)

print("\n")
for i in range(len(X_mul_w1)):
    square = X_mul_w1[i]**2
    print(square)

print("\n")
print(result)
modulus_plain = 786433

print("\n")
print(math.fmod(result, modulus_plain))

# print((-745)**2)

x = [334780,  354816,  147108,  -196859, 356892,  -72943,  -339033, -140246, 
      -206572, 376433,  72349,   -361214, 305606,  282042,  206434,  -3995,   149307,  -47796,  353116,  310766]


y = [1121213, -13014545 ,  147108,  12386069,  -9080304,    16442150,        16176060,        19520579,        
       -15935232,       -12992928,       4790947, 5930250, -3626559,       5787073 , 9643630 ,-12586923 ,   -10860755, -7912126, -13016245, 16825859]      

for i in y:
    print(math.fmod(i, modulus_plain))

print("\n")
print(math.fmod(52226691700501      , modulus_plain))
print(math.fmod(-78180613567098 , modulus_plain))

print("\n")
print(2**20)